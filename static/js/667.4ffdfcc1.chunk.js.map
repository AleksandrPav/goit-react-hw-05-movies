{"version":3,"file":"static/js/667.4ffdfcc1.chunk.js","mappings":"kPACA,EAAgC,4BAAhC,EAAmE,mBAAnE,EAA8F,oBAA9F,EAA2H,qB,mBCQ5G,SAASA,EAAT,GAA2B,IAAZC,EAAW,EAAXA,SAC1B,GAA4BC,EAAAA,EAAAA,UAAS,IAArC,eAAOC,EAAP,KAAeC,EAAf,KAkBMC,EAAY,WACdD,EAAU,GACb,EAGD,OACI,gBAAKE,UAAWC,EAAhB,UACA,kBAAMN,SAlBW,SAACO,GAClBA,EAAEC,iBACFR,EAASE,GACa,KAAlBA,EAAOO,OAIXL,IAHIM,EAAAA,GAAAA,MAAY,2BAKnB,EASiCL,UAAWC,EAAzC,WACI,kBACIK,KAAK,OACLC,KAAK,SACLC,MAAOX,EACPY,SA5BS,SAACP,GAClBJ,EAAUI,EAAEQ,OAAOF,MAEtB,EA0BeG,YAAY,gBACZX,UAAWC,KAEnB,mBAAQK,KAAK,SAASN,UAAWC,EAAjC,wBAIX,C,cC/CD,GAAgB,IAAM,wBAAwB,MAAQ,0BAA0B,KAAO,yBAAyB,SAAW,6BAA6B,KAAO,yBAAyB,MAAQ,0BAA0B,KAAO,yBAAyB,SAAW,6BAA6B,SAAW,8B,4BCa9R,SAASW,IACpB,OAA4BhB,EAAAA,EAAAA,UAAS,IAArC,eAAOiB,EAAP,KAAeC,EAAf,KACA,GAA8BlB,EAAAA,EAAAA,WAAS,GAAvC,eAAOmB,EAAP,KAAgBC,EAAhB,KACA,GAA0BpB,EAAAA,EAAAA,UAAS,MAAnC,eAAOqB,EAAP,KAAcC,EAAd,KAGMC,GAAWC,EAAAA,EAAAA,MAEjB,GAAwCC,EAAAA,EAAAA,MAAxC,eAAOC,EAAP,KAAqBC,EAArB,KAEM1B,EAASyB,EAAaE,IAAI,SAkChC,OA1BAC,EAAAA,EAAAA,YAAU,WACN,GAAK5B,EAAL,CAGA,IAAM6B,EAAS,mCAAG,oGAEVV,GAAW,GAFD,UAGWW,EAAAA,EAAAA,IAAS9B,GAHpB,OAGJ+B,EAHI,OAIVd,EAAUc,GAJA,gDAOVV,EAAS,EAAD,IACRW,QAAQC,OAAR,MARU,yBAUVd,GAAW,GAVD,4EAAH,qDAafU,GAdC,CAkBJ,GAAE,CAAC7B,KAOA,iBAAKG,UAAWC,EAAAA,UAAhB,WACI,SAACP,EAAD,CAAMC,SAlCO,SAACE,GAClB0B,EAAgB,CAAEQ,MAAOlC,GAC5B,IAiCQkB,IAAW,SAACiB,EAAA,EAAD,IACXf,IAAS,eAAIjB,UAAWC,EAAAA,MAAf,mBACTY,EAAOoB,OAAS,IAAK,eAAIjC,UAAWC,EAAAA,SAAf,+BACtB,gBAAKD,UAAWC,EAAAA,IAAhB,UACI,eAAID,UAAWC,EAAAA,MAAf,SACKY,EAAOqB,KAAI,gBAAGC,EAAH,EAAGA,GAAIC,EAAP,EAAOA,MAAP,OACR,eAAIpC,UAAWC,EAAAA,KAAf,UACI,UAAC,KAAD,CACIoC,MAAO,CAAEC,KAAMnB,GACfoB,GAAE,kBAAaJ,GACfnC,UAAWC,EAAAA,SAHf,WAKI,iBAAMD,UAAWC,EAAAA,SAAjB,UAA+B,SAAC,MAAD,CAAeD,UAAWC,EAAAA,UACzD,eAAID,UAAWC,EAAAA,MAAf,SAA2BmC,QAPLD,EADtB,UAoB/B,C,4MCrFKK,EAAU,mCACVC,EAAM,gCAGNd,EAAQ,mCAAG,WAAOI,GAAP,yFACUW,IAAAA,IAAA,UAAaD,EAAb,gCAAwCD,EAAxC,kBAAyDT,GAAS,CACrFY,OAAQ,CACJZ,MAAOA,KAHF,uBACLa,EADK,EACLA,KADK,kBAMNA,EAAKC,SANC,2CAAH,sDASRC,EAAiB,mCAAG,sGACDJ,IAAAA,IAAA,UAAaD,GAAb,OAZT,qBAYS,oBAAsCD,IADrC,uBACfI,EADe,EACfA,KADe,kBAEfA,EAAKC,SAFU,2CAAH,qDAKjBE,EAAe,mCAAG,WAAOC,GAAP,4EACfA,EADe,iEAIGN,IAAAA,IAAA,UAAaD,EAAb,iBAAyBO,EAAzB,oBAA4CR,IAJ/C,uBAIZI,EAJY,EAIZA,KAJY,kBAKbA,GALa,2CAAH,sDAQfK,EAAY,mCAAG,WAAOD,GAAP,4EACZA,EADY,iEAIMN,IAAAA,IAAA,UAAaD,EAAb,iBAAyBO,EAAzB,4BAAoDR,IAJ1D,uBAITI,EAJS,EAITA,KAJS,kBAKVA,EAAKM,MALK,2CAAH,sDAQZC,EAAe,mCAAG,WAAOH,GAAP,4EACfA,EADe,iEAIGN,IAAAA,IAAA,UAAaD,EAAb,iBAAyBO,EAAzB,4BAAoDR,IAJvD,uBAIZI,EAJY,EAIZA,KAJY,kBAKbA,EAAKC,SALQ,2CAAH,qD","sources":["webpack://react-homework-template/./src/components/modules/Form/Form.module.css?f6fe","components/modules/Form/Form.jsx","webpack://react-homework-template/./src/components/pages/MoviesPage/MoviesPage.module.css?523c","components/pages/MoviesPage/MoviesPage.jsx","components/services/API.js"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"formContainer\":\"Form_formContainer__zyZkB\",\"form\":\"Form_form__42kpy\",\"input\":\"Form_input__CP3Fd\",\"button\":\"Form_button__6n4PI\"};","import React, { useState } from \"react\";\nimport css from \"./Form.module.css\";\n\nimport PropTypes from \"prop-types\";\n\nimport { toast } from \"react-toastify\";\n\n\n\nexport default function Form({onSubmit}) {\n    const [search, setSearch] = useState(\"\");\n    \n    const handleChange = (e) => {\n        setSearch(e.target.value);\n        \n    };\n\n    const handleSubmit = (e) => {\n        e.preventDefault();\n        onSubmit(search);\n        if (search.trim() === \"\") {\n            toast.error(\"Please enter your search\");\n            return;\n        }\n        formReset();\n\n    };\n\n    const formReset = () => {\n        setSearch(\"\");\n    };\n    \n\n    return (\n        <div className={css.formContainer}>\n        <form onSubmit={handleSubmit} className={css.form}>\n            <input \n                type=\"text\"\n                name=\"search\"\n                value={search}\n                onChange={handleChange}\n                    placeholder=\"Search movies\"\n                    className={css.input}\n            />\n            <button type=\"submit\" className={css.button} >Search</button>\n            </form>\n            </div>\n    );\n}\n\nForm.propTypes = {\n    onSubmit: PropTypes.func.isRequired,\n};","// extracted by mini-css-extract-plugin\nexport default {\"row\":\"MoviesPage_row__L9MR8\",\"items\":\"MoviesPage_items__3py5b\",\"item\":\"MoviesPage_item__NtVhc\",\"itemLink\":\"MoviesPage_itemLink__FOZ8C\",\"icon\":\"MoviesPage_icon__cy1e6\",\"title\":\"MoviesPage_title__ltNNF\",\"text\":\"MoviesPage_text__asq2s\",\"iconItem\":\"MoviesPage_iconItem__ms7Is\",\"notFound\":\"MoviesPage_notFound__tTbXS\"};","import React, {useEffect, useState } from \"react\";\nimport { getMovie } from \"components/services/API\";\nimport Form from \"components/modules/Form/Form\";\nimport Loader from \"components/modules/Loader/Loader\";\nimport css from \"./MoviesPage.module.css\";\nimport { Link, useSearchParams, useLocation } from \"react-router-dom\";\nimport { BiCameraMovie } from 'react-icons/bi';\n\nimport PropTypes from \"prop-types\";\n\n\n\n\n\nexport default function Movies() {\n    const [movies, setMovies] = useState([]);\n    const [loading, setLoading] = useState(false);\n    const [error, setError] = useState(null);\n\n\n    const location = useLocation();\n\n    const [searchParams, setSearchParams] = useSearchParams();\n\n    const search = searchParams.get(\"query\");\n\n\n    const handleSubmit = (search) => {\n        setSearchParams({ query: search });\n    };\n\n\n    useEffect(() => {\n        if (!search) {\n            return;\n        }\n        const fetchData = async () => {\n            try {\n                setLoading(true);\n                const result = await getMovie(search);\n                setMovies(result);               \n\n            } catch (error) {\n                setError(error);\n                Promise.reject(error);\n            } finally {\n                setLoading(false);\n            }\n        };\n        fetchData();\n\n        \n    \n    }, [search]);\n\n \n\n\n    return (\n        \n        <div className={css.container}>\n            <Form onSubmit={handleSubmit} />\n            {loading && <Loader />}\n            {error && <h1 className={css.error}>Error</h1>}\n            {movies.length < 1 && <h1 className={css.notFound}>No results found</h1>}\n            <div className={css.row}>\n                <ul className={css.items}>\n                    {movies.map(({ id, title }) => (\n                        <li className={css.item} key={id}>\n                            <Link\n                                state={{ from: location }}\n                                to={`/movies/${id}`}\n                                className={css.itemLink}\n                            >\n                                <span className={css.iconItem}><BiCameraMovie className={css.icon} /></span>\n                                <h3 className={css.title}>{title}</h3>\n                            </Link>\n                        </li>\n                    ))}\n                </ul>\n            </div>\n        </div>\n\n       \n        \n    );\n    \n}\n\n\nMovies.propTypes = {\n    movies: PropTypes.arrayOf(\n        PropTypes.shape({\n            id: PropTypes.number.isRequired,\n            title: PropTypes.string.isRequired,\n            poster_path: PropTypes.string,\n        })\n    ),\n};","import axios from \"axios\";\n\nconst API_KEY = \"2ad314a52028ffb1db124a28b0df35b2\";\nconst URL = \"https://api.themoviedb.org/3/\";\nconst OPTIONS = \"trending/movie/day\"\n\nconst getMovie = async (query) => {\n    const { data } = await axios.get(`${URL}search/movie?api_key=${API_KEY}&query=${query}`, {\n        params: {\n            query: query,\n        },\n    });\n    return data.results;\n}\n\nconst getTrendingMovies = async () => {\n    const {data} = await axios.get(`${URL}${OPTIONS}?api_key=${API_KEY}`);\n    return data.results;\n}\n\nconst getMovieDetails = async (movieId) => {\n    if (!movieId) {\n        return;\n    }\n    const { data } = await axios.get(`${URL}movie/${movieId}?api_key=${API_KEY}`);\n    return data;\n}\n\nconst getMovieCast = async (movieId) => {\n    if (!movieId) {\n        return;\n    }\n    const { data } = await axios.get(`${URL}movie/${movieId}/credits?api_key=${API_KEY}`);\n    return data.cast;\n}\n\nconst getMovieReviews = async (movieId) => {\n    if (!movieId) {\n        return;\n    }\n    const { data } = await axios.get(`${URL}movie/${movieId}/reviews?api_key=${API_KEY}`);\n    return data.results;\n}\n\n\n\n\nexport { getTrendingMovies, getMovieDetails , getMovieCast, getMovieReviews, getMovie };\n\n"],"names":["Form","onSubmit","useState","search","setSearch","formReset","className","css","e","preventDefault","trim","toast","type","name","value","onChange","target","placeholder","Movies","movies","setMovies","loading","setLoading","error","setError","location","useLocation","useSearchParams","searchParams","setSearchParams","get","useEffect","fetchData","getMovie","result","Promise","reject","query","Loader","length","map","id","title","state","from","to","API_KEY","URL","axios","params","data","results","getTrendingMovies","getMovieDetails","movieId","getMovieCast","cast","getMovieReviews"],"sourceRoot":""}