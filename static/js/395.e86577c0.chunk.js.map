{"version":3,"file":"static/js/395.e86577c0.chunk.js","mappings":"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","sources":["webpack://react-homework-template/./src/components/pages/MovieDetails/MovieDetails.module.css?1b37","webpack://react-homework-template/./src/components/modules/Button/GoBackBtn.module.css?3661","components/modules/Button/GoBackBtn.js","components/pages/MovieDetails/MovieDetails.jsx","components/services/API.js"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"container\":\"MovieDetails_container__rZCdL\",\"containerItems\":\"MovieDetails_containerItems__K-sUC\",\"images\":\"MovieDetails_images__+8nse\",\"info\":\"MovieDetails_info__dEPoh\",\"title\":\"MovieDetails_title__OOJAI\",\"text\":\"MovieDetails_text__MqlgU\",\"genres\":\"MovieDetails_genres__2ERh5\",\"genresItem\":\"MovieDetails_genresItem__Xl6RY\",\"titleGenres\":\"MovieDetails_titleGenres__fmUII\",\"genresText\":\"MovieDetails_genresText__AMc7j\",\"navLink\":\"MovieDetails_navLink__m2LhA\",\"link\":\"MovieDetails_link__E3pMX\",\"active\":\"MovieDetails_active__YpE2D\"};","// extracted by mini-css-extract-plugin\nexport default {\"btn\":\"GoBackBtn_btn__kiKx7\"};","import React from \"react\";\nimport css from \"./GoBackBtn.module.css\";\n\nconst GoBackBtn = ({ onClick }) => {\n    return (\n        <button type='button' className={css.btn} onClick={onClick}>\n        Go back\n        </button>\n    );\n}\n    \nexport default GoBackBtn;","import React, { useState, useEffect} from 'react';\nimport { useParams, useLocation, useNavigate, Outlet, NavLink} from 'react-router-dom';\nimport css from \"./MovieDetails.module.css\";\nimport { getMovieDetails } from \"../../services/API\";\nimport Loader from 'components/modules/Loader/Loader';\nimport GoBackBtn from 'components/modules/Button/GoBackBtn';\n\nconst MovieDetails = () => {\n    const [movie, setMovie] = useState([]);\n    const [loading, setLoading] = useState(true);\n    const [error, setError] = useState(false);\n    const { movieId } = useParams();\n    const location = useLocation();\n    const navigate = useNavigate();\n\n    const getClassName = ({ isActive }) => {\n    const className = isActive ? `${css.link} ${css.active}` : css.link;\n    return className;\n    }\n    \n    const { from } = location.state;\n\n    const goBack = () => navigate(from);\n\n    useEffect(() => {\n    \n            setLoading(true);\n            const fetchData = async () => {\n                try {\n                    const result = await getMovieDetails(Number(movieId));\n                    setMovie(result);\n                    setLoading(false);\n                } catch (error) {\n                    setError(true);\n                    Promise.reject(error);\n\n                }\n                finally {\n                    setLoading(false);\n\n                }\n            }\n        fetchData();\n    }, [movieId]);\n\n\n    const { title, poster_path, release_date, vote_average, overview, genres, id } = movie;\n\n    return (\n        <div className={css.container}>\n        <GoBackBtn onClick={goBack}/>\n        {loading && <Loader />}\n            {error && <h1 className={css.error}>Error</h1>}\n            <div className={css.containerItems}>\n                <div className={css.images}>\n                    <img src={(poster_path && `https://image.tmdb.org/t/p/w500/${poster_path}`) || \"https://pbs.twimg.com/media/C5OTOt3UEAAExIk.jpg\"} alt={title} className={css.moviesImage} />\n                </div>\n                <div className={css.info}>\n                    <h2 className={css.title}>{title}</h2>\n                    <p className={css.text}>{ release_date}</p>\n                    <p className={css.text}>User Score: {(vote_average * 10).toFixed(2)}%</p>\n                    <h3 className={css.title}>Overview</h3>\n                    <p className={css.text}>{overview}</p>\n                    <h3 className={css.titleGenres}>Genres</h3>\n                    <ul className={css.genres}>\n                        {genres && genres.map(({ id, name }) => (\n                            <li className={css.genresItem} key={id}><p className={css.genresText}>{name}</p></li>\n                        ))}\n                    </ul>\n                </div>\n            </div>\n            <div className={css.navLink}>\n            <NavLink state={{ from }} to={`/movies/${id}/cast`} className={getClassName}>Cast</NavLink>\n            <NavLink state={{ from }} to={`/movies/${id}/reviews`} className={getClassName}>Reviews</NavLink>\n                <Outlet />\n            </div>\n        </div>\n    );\n}\n\nexport default MovieDetails;\n\n\n\n","import axios from \"axios\";\n\nconst API_KEY = \"2ad314a52028ffb1db124a28b0df35b2\";\nconst URL = \"https://api.themoviedb.org/3/\";\nconst OPTIONS = \"trending/movie/day\"\n\nconst getMovie = async (query) => {\n    const { data } = await axios.get(`${URL}search/movie?api_key=${API_KEY}&query=${query}`, {\n        params: {\n            query: query,\n        },\n    });\n    return data.results;\n}\n\nconst getTrendingMovies = async () => {\n    const {data} = await axios.get(`${URL}${OPTIONS}?api_key=${API_KEY}`);\n    return data.results;\n}\n\nconst getMovieDetails = async (movieId) => {\n    if (!movieId) {\n        return;\n    }\n    const { data } = await axios.get(`${URL}movie/${movieId}?api_key=${API_KEY}`);\n    return data;\n}\n\nconst getMovieCast = async (movieId) => {\n    if (!movieId) {\n        return;\n    }\n    const { data } = await axios.get(`${URL}movie/${movieId}/credits?api_key=${API_KEY}`);\n    return data.cast;\n}\n\nconst getMovieReviews = async (movieId) => {\n    if (!movieId) {\n        return;\n    }\n    const { data } = await axios.get(`${URL}movie/${movieId}/reviews?api_key=${API_KEY}`);\n    return data.results;\n}\n\n\n\n\nexport { getTrendingMovies, getMovieDetails , getMovieCast, getMovieReviews, getMovie };\n\n"],"names":["onClick","type","className","css","useState","movie","setMovie","loading","setLoading","error","setError","movieId","useParams","location","useLocation","navigate","useNavigate","getClassName","isActive","from","state","useEffect","fetchData","getMovieDetails","Number","result","Promise","reject","title","poster_path","release_date","vote_average","overview","genres","id","Loader","src","alt","toFixed","map","name","to","API_KEY","URL","getMovie","query","axios","params","data","results","getTrendingMovies","getMovieCast","cast","getMovieReviews"],"sourceRoot":""}