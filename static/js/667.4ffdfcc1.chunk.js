"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[667],{5667:function(e,t,r){r.r(t),r.d(t,{default:function(){return y}});var n=r(5861),a=r(885),c=r(7757),s=r.n(c),u=r(2791),i=r(9969),o="Form_formContainer__zyZkB",f="Form_form__42kpy",p="Form_input__CP3Fd",m="Form_button__6n4PI",l=r(6066),v=r(184);function _(e){var t=e.onSubmit,r=(0,u.useState)(""),n=(0,a.Z)(r,2),c=n[0],s=n[1],i=function(){s("")};return(0,v.jsx)("div",{className:o,children:(0,v.jsxs)("form",{onSubmit:function(e){e.preventDefault(),t(c),""!==c.trim()?i():l.Am.error("Please enter your search")},className:f,children:[(0,v.jsx)("input",{type:"text",name:"search",value:c,onChange:function(e){s(e.target.value)},placeholder:"Search movies",className:p}),(0,v.jsx)("button",{type:"submit",className:m,children:"Search"})]})})}var h=r(5095),d={row:"MoviesPage_row__L9MR8",items:"MoviesPage_items__3py5b",item:"MoviesPage_item__NtVhc",itemLink:"MoviesPage_itemLink__FOZ8C",icon:"MoviesPage_icon__cy1e6",title:"MoviesPage_title__ltNNF",text:"MoviesPage_text__asq2s",iconItem:"MoviesPage_iconItem__ms7Is",notFound:"MoviesPage_notFound__tTbXS"},x=r(501),b=r(6871),k=r(719);function y(){var e=(0,u.useState)([]),t=(0,a.Z)(e,2),r=t[0],c=t[1],o=(0,u.useState)(!1),f=(0,a.Z)(o,2),p=f[0],m=f[1],l=(0,u.useState)(null),y=(0,a.Z)(l,2),g=y[0],w=y[1],N=(0,b.TH)(),j=(0,x.lr)(),P=(0,a.Z)(j,2),Z=P[0],F=P[1],M=Z.get("query");return(0,u.useEffect)((function(){if(M){var e=function(){var e=(0,n.Z)(s().mark((function e(){var t;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,m(!0),e.next=4,(0,i.HI)(M);case 4:t=e.sent,c(t),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(0),w(e.t0),Promise.reject(e.t0);case 12:return e.prev=12,m(!1),e.finish(12);case 15:case"end":return e.stop()}}),e,null,[[0,8,12,15]])})));return function(){return e.apply(this,arguments)}}();e()}}),[M]),(0,v.jsxs)("div",{className:d.container,children:[(0,v.jsx)(_,{onSubmit:function(e){F({query:e})}}),p&&(0,v.jsx)(h.Z,{}),g&&(0,v.jsx)("h1",{className:d.error,children:"Error"}),r.length<1&&(0,v.jsx)("h1",{className:d.notFound,children:"No results found"}),(0,v.jsx)("div",{className:d.row,children:(0,v.jsx)("ul",{className:d.items,children:r.map((function(e){var t=e.id,r=e.title;return(0,v.jsx)("li",{className:d.item,children:(0,v.jsxs)(x.rU,{state:{from:N},to:"/movies/".concat(t),className:d.itemLink,children:[(0,v.jsx)("span",{className:d.iconItem,children:(0,v.jsx)(k.FXJ,{className:d.icon})}),(0,v.jsx)("h3",{className:d.title,children:r})]})},t)}))})})]})}},9969:function(e,t,r){r.d(t,{Df:function(){return p},HI:function(){return f},M1:function(){return l},TP:function(){return m},tx:function(){return v}});var n=r(5861),a=r(7757),c=r.n(a),s=r(4569),u=r.n(s),i="2ad314a52028ffb1db124a28b0df35b2",o="https://api.themoviedb.org/3/",f=function(){var e=(0,n.Z)(c().mark((function e(t){var r,n;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u().get("".concat(o,"search/movie?api_key=").concat(i,"&query=").concat(t),{params:{query:t}});case 2:return r=e.sent,n=r.data,e.abrupt("return",n.results);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),p=function(){var e=(0,n.Z)(c().mark((function e(){var t,r;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u().get("".concat(o).concat("trending/movie/day","?api_key=").concat(i));case 2:return t=e.sent,r=t.data,e.abrupt("return",r.results);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),m=function(){var e=(0,n.Z)(c().mark((function e(t){var r,n;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,u().get("".concat(o,"movie/").concat(t,"?api_key=").concat(i));case 4:return r=e.sent,n=r.data,e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),l=function(){var e=(0,n.Z)(c().mark((function e(t){var r,n;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,u().get("".concat(o,"movie/").concat(t,"/credits?api_key=").concat(i));case 4:return r=e.sent,n=r.data,e.abrupt("return",n.cast);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),v=function(){var e=(0,n.Z)(c().mark((function e(t){var r,n;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,u().get("".concat(o,"movie/").concat(t,"/reviews?api_key=").concat(i));case 4:return r=e.sent,n=r.data,e.abrupt("return",n.results);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}}]);
//# sourceMappingURL=667.4ffdfcc1.chunk.js.map